# PDF Processing Pipeline

This project provides a Dockerized pipeline to extract, section, and rank relevant content from PDF documents based on a given persona and task. It's designed to process collections of PDFs and generate structured output.

## Prerequisites

Before you begin, ensure you have the following installed:

*   **Docker**: [Install Docker](https://docs.docker.com/get-docker/)
*   **Docker Compose**: [Install Docker Compose](https://docs.docker.com/compose/install/)

## Project Structure

The project expects a specific directory structure for input and output:

```
.
├── Collection 1/
│   ├── input.json
│   ├── output.json (will be generated after execution)
│   └── pdfs/
│       └── your_pdf_files.pdf
├── Dockerfile
├── docker-compose.yml
├── pipeline.py
└── requirements.txt
```

*   **`Collection 1/`**: This directory represents a single collection of documents. You can create multiple such `Collection X/` directories for different sets of inputs.
*   **`input.json`**: Contains the configuration for the pipeline, including the persona, task, and a list of PDF filenames to process from the `pdfs/` subdirectory.
*   **`pdfs/`**: This subdirectory within each `Collection X/` holds the PDF documents.
*   **`output.json`**: This file will be generated by the `pipeline.py` script and will contain the extracted and ranked information.

## Setup and Execution

Follow these steps to build and run the Docker container:

1.  **Navigate to the Project Root**:
    Open your terminal or command prompt and navigate to the root directory of this project (where `docker-compose.yml` is located).

    ```bash
    cd /path/to/your/project/1b
    ```

2.  **Build the Docker Image**:
    Build the Docker image using Docker Compose. This command will download necessary dependencies and set up the environment.

    ```bash
    docker-compose build
    ```

3.  **Run the Pipeline**:
    Execute the `pipeline.py` script within the Docker container. The `--rm` flag ensures that the container is removed after it finishes execution.

    ```bash
    docker-compose run --rm pdf_pipeline
    ```

    This command will:
    *   Start the `pdf_pipeline` service.
    *   Mount your project directory into the container.
    *   Run the `pipeline.py` script, which will process the PDFs in `Collection 1/pdfs/` based on `Collection 1/input.json`.
    *   Generate `Collection 1/output.json` with the results.

4.  **Check the Output**:
    After the command completes, you can find the generated `output.json` file in the `Collection 1/` directory.

    ```bash
    cat Collection\ 1/output.json
    ```
